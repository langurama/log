{"version":3,"sources":["../source/index.js"],"names":["isBrowser","window","isDev","process","argv","reduce","value","argument","devLog","messages","console","log","createLogsDirectory","logsDirPath","fs","existsSync","mkdirSync","recursive","getTimestamp","date","year","getFullYear","toString","origMonth","getMonth","month","length","origDay","getDate","day","origHours","getHours","hours","origMinutes","getMinutes","minutes","origSeconds","getSeconds","seconds","origOffsetUTC","getTimezoneOffset","offsetUTC","timestamp","formatMessages","chalk","message","newMessage","undefined","blue","constructor","Array","green","Symbol","String","BigInt","Number","Boolean","yellow","Error","stack","split","map","line","indexOf","red","grey","join","Object","JSON","stringify","getCallee","object","captureStackTrace","createTerminalTransport","configuration","shouldIncludeCallee","callee","shouldUseChalk","terminalTransport","level","logLevels","toLowerCase","timestampAndLevel","bgBlack","bgRed","white","bold","error","stderr","write","bgYellow","black","warn","info","stdout","cyan","debug","trace","createFileTransport","shouldJsonFormat","json","isAnAbsolutePath","path","startsWith","substring","logDirectoryPathTmp","pop","logDirectoryPath","absoluteLogDirectoryPath","cwd","absoluteFilePath","fileTransport","appendFileSync","defaultTerminalConfiguration","type","defaultFileConfiguration","validateConfiguration","userConfiguration","isObjectAndNotNull","isTerminalConfiguration","isFileConfiguration","validConfigurationType","defaultTerminalConfigurationKeys","keys","defaultFileConfigurationKeys","incorrectProperties","filter","key","includes","chalkIsNotUndefinedButIsIncorrect","getPrototypeOf","name","create","userConfigurationOrConfigurations","isUndefined","isArray","isNotUndefinedOrArrayOrObject","userConfigurations","numberOfTerminalConfigurations","configurations","validateAndCompleteUserConfiguration","tooManyTerminalConfigurations","transports","push","Date","_configurations","_transports","forEach","func"],"mappings":"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","sourcesContent":["// Native modules.\nimport { default as fs } from 'fs';\nimport { default as path } from 'path';\n\n////////////////////////////////////////////////////////////////////////////////\n\n// Check if this package is being used in the browser or not.\nconst isBrowser = typeof window === 'undefined' ? false : true;\n\n// Check if this package is in development mode.\nconst isDev = process.argv.reduce(function(value, argument) {\n    /* istanbul ignore next */\n    if (value || argument === '--dev') return true;\n    return false;\n}, false);\n\n////////////////////////////////////////////////////////////////////////////////\n\n// Used for debugging this package.\n/* istanbul ignore next */\nfunction devLog(...messages) {\n    if (isDev) console.log('[@langurama/log]', ...messages);\n}\n\nfunction createLogsDirectory(logsDirPath) {\n    if (!fs.existsSync(logsDirPath)) {\n        devLog(`Creating log directory: ${logsDirPath}`);\n        fs.mkdirSync(logsDirPath, { recursive: true });\n    } else {\n        devLog(`Log directory already existed: ${logsDirPath}`);\n    }\n}\n\nfunction getTimestamp(date) {\n    let year = date.getFullYear().toString();\n\n    const origMonth = date.getMonth() + 1;\n    const month = origMonth.toString().length === 1 ? `0${origMonth}` : origMonth;\n\n    const origDay = date.getDate();\n    const day = origDay.toString().length === 1 ? `0${origDay}` : origDay;\n\n    const origHours = date.getHours();\n    const hours = origHours.toString().length === 1 ? `0${origHours}` : origHours;\n\n    const origMinutes = date.getMinutes();\n    const minutes = origMinutes.toString().length === 1 ? `0${origMinutes}` : origMinutes;\n\n    const origSeconds = date.getSeconds();\n    const seconds = origSeconds.toString().length === 1 ? `0${origSeconds}` : origSeconds;\n\n    const origOffsetUTC = date.getTimezoneOffset() / 60;\n    const offsetUTC = origOffsetUTC > 0 ? `-${origOffsetUTC}` : `+${origOffsetUTC * -1}`;\n\n    const timestamp = `${year}-${month}-${day} ${hours}:${minutes}:${seconds} UTC${offsetUTC}`;\n    return timestamp;\n}\n\nfunction formatMessages(chalk, ...messages) {\n    const message = messages.reduce((message, argument) => {\n        let newMessage;\n\n        if (message === '') {\n            newMessage = message;\n        } else {\n            newMessage = `${message} `;\n        }\n\n        if (argument === undefined) {\n            if (chalk !== undefined) {\n                newMessage += chalk.blue('undefined');\n            } else {\n                newMessage += 'undefined';\n            }\n        } else if (argument === null) {\n            if (chalk !== undefined) {\n                newMessage += chalk.blue('null');\n            } else {\n                newMessage += 'null';\n            }\n        } else if (argument.constructor === Array) {\n            if (chalk !== undefined) {\n                newMessage += chalk.green(`[${argument.toString()}]`);\n            } else {\n                newMessage += `[${argument.toString()}]`;\n            }\n        } else if (argument.constructor === Symbol) {\n            newMessage += String(argument);\n            // TODO: Remove disable rule when BigInt exists.\n            // eslint-disable-next-line no-undef\n        } else if (argument.constructor === BigInt) {\n            newMessage += argument.toString();\n        } else if (argument.constructor === Number) {\n            if (chalk !== undefined) {\n                newMessage += chalk.green(argument.toString());\n            } else {\n                newMessage += argument.toString();\n            }\n        } else if (argument.constructor === Boolean) {\n            if (chalk !== undefined) {\n                newMessage += chalk.yellow(argument.toString());\n            } else {\n                newMessage += argument.toString();\n            }\n        } else if (argument.constructor === Error) {\n            if (chalk !== undefined) {\n                newMessage += argument.stack\n                    .split('\\n')\n                    .map(line => {\n                        if (line.indexOf('(internal/') === -1) return chalk.red(line);\n                        return chalk.grey(line);\n                    })\n                    .join('\\n');\n            } else {\n                newMessage += argument.stack;\n            }\n        } else if (argument.constructor === Object) {\n            newMessage += JSON.stringify(argument, null, 4);\n        } else {\n            // String or unknown.\n            newMessage += argument.toString();\n        }\n\n        return newMessage;\n    }, '');\n\n    devLog(`Formatted message: ${message}`);\n    return message;\n}\n\nfunction getCallee(chalk) {\n    const object = {};\n    Error.captureStackTrace(object);\n    const stack = object.stack\n        .split('\\n')[7]\n        .split('(')[1]\n        .split(')')[0];\n    if (chalk !== undefined) return chalk.grey(stack);\n    return stack;\n}\n\nfunction createTerminalTransport(configuration) {\n    const shouldIncludeCallee = configuration.callee;\n    const shouldUseChalk = configuration.chalk !== undefined;\n\n    return function terminalTransport(date, level, ...messages) {\n        devLog('Terminal transport:', date, level, messages);\n\n        devLog('Checking log level configuration level for terminal transport.');\n        if (logLevels[level.toLowerCase()] > logLevels[configuration.level]) return;\n\n        const timestamp = getTimestamp(date);\n\n        devLog('Terminal should use chalk:', shouldUseChalk);\n\n        if (level === 'ERROR') {\n            devLog('Terminal ERROR hit.');\n            const timestampAndLevel = shouldUseChalk\n                ? `${configuration.chalk.grey(timestamp)}  ${configuration.chalk.bgBlack(\n                      configuration.chalk.bgRed.white(configuration.chalk.bold(level))\n                  )}`\n                : `${timestamp}  ${level}`;\n            isBrowser\n                ? console.error(\n                      `${timestampAndLevel}`,\n                      ...messages,\n                      shouldIncludeCallee ? getCallee(configuration.chalk) : ''\n                  )\n                : process.stderr.write(\n                      `${timestampAndLevel} ${formatMessages(configuration.chalk, ...messages)} ${\n                          shouldIncludeCallee ? getCallee(configuration.chalk) : '' + '\\n'\n                      }` + '\\n'\n                  );\n        } else if (level === 'WARN') {\n            devLog('Terminal WARN hit.');\n            const timestampAndLevel = shouldUseChalk\n                ? `${configuration.chalk.grey(timestamp)}   ${configuration.chalk.bgYellow(\n                      configuration.chalk.bgYellow.black(configuration.chalk.bold(level))\n                  )}`\n                : `${timestamp}  ${level}`;\n            isBrowser\n                ? console.warn(\n                      `${timestampAndLevel}`,\n                      ...messages,\n                      shouldIncludeCallee ? getCallee(configuration.chalk) : ''\n                  )\n                : process.stderr.write(\n                      `${timestampAndLevel} ${formatMessages(configuration.chalk, ...messages)} ${\n                          shouldIncludeCallee ? getCallee(configuration.chalk) : '' + '\\n'\n                      }` + '\\n'\n                  );\n        } else if (level === 'INFO') {\n            devLog('Terminal INFO hit.');\n            const timestampAndLevel = shouldUseChalk\n                ? `${configuration.chalk.grey(timestamp)}   ${configuration.chalk.white(level)}`\n                : `${timestamp}  ${level}`;\n            isBrowser\n                ? console.info(\n                      `${timestampAndLevel}`,\n                      ...messages,\n                      shouldIncludeCallee ? getCallee(configuration.chalk) : ''\n                  )\n                : process.stdout.write(\n                      `${timestampAndLevel} ${formatMessages(configuration.chalk, ...messages)} ${\n                          shouldIncludeCallee ? getCallee(configuration.chalk) : '' + '\\n'\n                      }` + '\\n'\n                  );\n        } else if (level === 'DEBUG') {\n            devLog('Terminal DEBUG hit.');\n            const timestampAndLevel = shouldUseChalk\n                ? `${configuration.chalk.grey(timestamp)}  ${configuration.chalk.cyan(level)}`\n                : `${timestamp}  ${level}`;\n            isBrowser\n                ? console.debug(\n                      `${timestampAndLevel}`,\n                      ...messages,\n                      shouldIncludeCallee ? getCallee(configuration.chalk) : ''\n                  )\n                : process.stdout.write(\n                      `${timestampAndLevel} ${formatMessages(configuration.chalk, ...messages)} ${\n                          shouldIncludeCallee ? getCallee(configuration.chalk) : '' + '\\n'\n                      }` + '\\n'\n                  );\n            // TODO: When https://github.com/gotwarlost/istanbul/issues/781s is fixed, turn next line into else if for TRACE.\n        } else {\n            devLog('Terminal TRACE hit.');\n            const timestampAndLevel = shouldUseChalk\n                ? `${configuration.chalk.grey(timestamp)}  ${configuration.chalk.green(level)}`\n                : `${timestamp}  ${level}`;\n            isBrowser\n                ? console.trace(\n                      `${timestampAndLevel}`,\n                      ...messages,\n                      shouldIncludeCallee ? getCallee(configuration.chalk) : ''\n                  )\n                : process.stdout.write(\n                      `${timestampAndLevel} ${formatMessages(configuration.chalk, ...messages)} ${\n                          shouldIncludeCallee ? getCallee(configuration.chalk) : '' + '\\n'\n                      }` + '\\n'\n                  );\n        }\n        return;\n    };\n}\n\nfunction createFileTransport(configuration) {\n    const shouldIncludeCallee = configuration.callee === false ? false : true;\n    const shouldJsonFormat = configuration.json === true ? true : false;\n    // File path.\n    // prettier-ignore\n    const isAnAbsolutePath =\n        configuration.path.startsWith('/') // Linux/macOS.\n        || configuration.path.substring(1).startsWith(':/'); // Windows.\n    devLog(`Is absolute path: ${isAnAbsolutePath}`);\n    // prettier-ignore\n    const logDirectoryPathTmp = configuration.path.split('/');\n    logDirectoryPathTmp.pop();\n    const logDirectoryPath = logDirectoryPathTmp.join('/');\n    devLog(`Log directory path: ${logDirectoryPath}`);\n\n    const absoluteLogDirectoryPath = isAnAbsolutePath\n        ? logDirectoryPath\n        : path.join(process.cwd(), logDirectoryPath);\n    createLogsDirectory(absoluteLogDirectoryPath);\n\n    const absoluteFilePath = isAnAbsolutePath\n        ? configuration.path\n        : path.join(process.cwd(), configuration.path);\n    devLog(`Absolute file path: ${absoluteFilePath}`);\n\n    // File transport.\n    return function fileTransport(date, level, ...messages) {\n        devLog('File transport:', date, level, messages);\n\n        devLog('Checking log level configuration level for file transport.');\n        if (logLevels[level.toLowerCase()] > logLevels[configuration.level]) return;\n\n        const timestamp = getTimestamp(date);\n\n        const message = formatMessages(undefined, ...messages);\n\n        const log = shouldJsonFormat\n            ? shouldIncludeCallee\n                ? `${JSON.stringify({\n                      timestamp,\n                      level,\n                      message,\n                      callee: getCallee()\n                  })}\\n`\n                : `${JSON.stringify({\n                      timestamp,\n                      level,\n                      message\n                  })}\\n`\n            : shouldIncludeCallee\n            ? `${timestamp} ${level} ${message} ${getCallee()}\\n`\n            : `${timestamp} ${level} ${message}\\n`;\n\n        devLog(`Logging to file: ${log}`);\n        fs.appendFileSync(absoluteFilePath, log);\n    };\n}\n\nexport const defaultTerminalConfiguration = {\n    type: 'terminal',\n    level: 'info',\n    callee: true,\n    chalk: undefined\n};\n\nexport const defaultFileConfiguration = {\n    type: 'file',\n    level: 'info',\n    callee: false,\n    path: './log/application.log',\n    json: false\n};\n\nexport const logLevels = {\n    error: 0,\n    warn: 1,\n    info: 2,\n    debug: 3,\n    trace: 4\n};\n\nfunction validateConfiguration(userConfiguration) {\n    const isObjectAndNotNull = typeof userConfiguration === 'object' && userConfiguration !== null;\n    if (!isObjectAndNotNull)\n        throw new Error(\n            `\"terminal\" or \"file\" configuration must be of type \"object\". Received: ${JSON.stringify(\n                userConfiguration\n            )}`\n        );\n\n    const isTerminalConfiguration = userConfiguration.type === 'terminal';\n    const isFileConfiguration = userConfiguration.type === 'file';\n\n    // Must be of file type \"file\" or \"terminal\".\n    const validConfigurationType =\n        userConfiguration.type !== undefined && (isTerminalConfiguration || isFileConfiguration);\n    if (!validConfigurationType) {\n        throw new Error(\n            `Invalid configuration value for the property \"type\": ${userConfiguration.type}`\n        );\n    }\n\n    // If in browser, \"terminal\" type is only allowed.\n    if (isBrowser && isFileConfiguration) {\n        throw new Error(\n            'Browser may not have a file configuration, it may only include a terminal configuration.'\n        );\n    }\n\n    const defaultTerminalConfigurationKeys = Object.keys(defaultTerminalConfiguration);\n    const defaultFileConfigurationKeys = Object.keys(defaultFileConfiguration);\n    const incorrectProperties = Object.keys(userConfiguration).filter(key => {\n        if (isTerminalConfiguration) return !defaultTerminalConfigurationKeys.includes(key);\n        return !defaultFileConfigurationKeys.includes(key);\n    });\n    if (incorrectProperties.length > 0)\n        throw new Error(`Unknown properties found, remove them: ${incorrectProperties}`);\n\n    // Check properties shared by both are correct.\n    if (userConfiguration.level && typeof userConfiguration.level !== 'string')\n        throw new Error(\n            'Invalid configuration value for the property \"level\" must be of type \"string\".'\n        );\n    if (userConfiguration.level && logLevels[userConfiguration.level] === undefined)\n        throw new Error(\n            `Invalid configuration value for the property \"level\" must be one of the following: ${Object.keys(\n                logLevels\n            )}`\n        );\n    if (userConfiguration.callee && typeof userConfiguration.callee !== 'boolean')\n        throw new Error(\n            'Invalid configuration value for the property \"callee\" must be of type \"boolean\".'\n        );\n    if (userConfiguration.json && typeof userConfiguration.json !== 'boolean')\n        throw new Error(\n            'Invalid configuration value for the property \"json\" must be of type \"boolean\".'\n        );\n\n    // If chalk is defined make sure it's of correct type.\n    const chalkIsNotUndefinedButIsIncorrect =\n        userConfiguration.chalk !== undefined &&\n        (userConfiguration.chalk.constructor !== undefined &&\n            Object.getPrototypeOf(userConfiguration.chalk).constructor.name !== 'Chalk');\n    if (chalkIsNotUndefinedButIsIncorrect) {\n        throw new Error('Configuration value for property \"chalk\" must be of instance \"Chalk\".');\n    }\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nexport default function create(userConfigurationOrConfigurations) {\n    devLog('Recieved user configuration or configurations:', userConfigurationOrConfigurations);\n    ////////////////////////////////////////////////////////////////////////////////\n\n    // Validate configuration.\n    devLog('Validating user configuration.');\n\n    // Check if it is undefined, an array or a single object.\n    const isUndefined = userConfigurationOrConfigurations === undefined;\n    const isArray = !isUndefined && Array.isArray(userConfigurationOrConfigurations);\n    const isObjectAndNotNull =\n        typeof userConfigurationOrConfigurations === 'object' &&\n        userConfigurationOrConfigurations !== null;\n    const isNotUndefinedOrArrayOrObject = !isUndefined && !isArray && !isObjectAndNotNull;\n    if (isNotUndefinedOrArrayOrObject) {\n        // Invalid configuration type.\n        throw new Error('Configuration must be of type \"object\" or an \"array\" of \"objects\".');\n    }\n\n    // Convert single object into array.\n    const userConfigurations = isUndefined\n        ? [defaultTerminalConfiguration] // undefined\n        : isObjectAndNotNull && !isArray\n        ? [userConfigurationOrConfigurations] // {}\n        : userConfigurationOrConfigurations; // [{}, {}]\n\n    // All of the configurations check out. Check if there is more than one terminal configuration.\n    let numberOfTerminalConfigurations = 0;\n    const configurations = userConfigurations.map(function validateAndCompleteUserConfiguration(\n        configuration\n    ) {\n        // Validate.\n        validateConfiguration(configuration);\n\n        const isTerminalConfiguration = configuration.type === 'terminal';\n        if (isTerminalConfiguration) {\n            numberOfTerminalConfigurations += 1;\n\n            const tooManyTerminalConfigurations = numberOfTerminalConfigurations > 1;\n            if (tooManyTerminalConfigurations)\n                throw new Error(\n                    `Only one configuration terminal may be included. Number of configurations found: ${numberOfTerminalConfigurations}`\n                );\n\n            // Complete.\n            return { ...defaultTerminalConfiguration, ...configuration };\n        } else {\n            // Complete.\n            return { ...defaultFileConfiguration, ...configuration };\n        }\n    });\n\n    devLog(\n        'User configuration has been validated. Configurations:',\n        JSON.stringify(configurations)\n    );\n\n    ////////////////////////////////////////////////////////////////////////////////\n\n    devLog('Creating transports.');\n    const transports = [];\n    configurations.map(configuration => {\n        if (configuration.type === 'terminal') {\n            // Create and add transport.\n            transports.push(createTerminalTransport(configuration));\n        } else {\n            // Create and add transport.\n            transports.push(createFileTransport(configuration));\n        }\n        return;\n    });\n    devLog(`Transports created. Amount of transports: ${transports.length}`);\n\n    ////////////////////////////////////////////////////////////////////////////////\n\n    devLog('Creating log instance.');\n    const log = {\n        error: (...messages) => {\n            const date = new Date();\n            error(date, transports, ...messages);\n        },\n        warn: (...messages) => {\n            const date = new Date();\n            warn(date, transports, ...messages);\n        },\n        info: (...messages) => {\n            const date = new Date();\n            info(date, transports, ...messages);\n        },\n        debug: (...messages) => {\n            const date = new Date();\n            debug(date, transports, ...messages);\n        },\n        trace: (...messages) => {\n            const date = new Date();\n            trace(date, transports, ...messages);\n        },\n        _configurations: configurations,\n        _transports: transports\n    };\n    devLog('Log instance created.');\n\n    ////////////////////////////////////////////////////////////////////////////////\n\n    return log;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nexport function error(date, transports, ...messages) {\n    devLog('error messages:', messages);\n    transports.forEach(func => func(date, 'ERROR', ...messages));\n}\nexport function warn(date, transports, ...messages) {\n    devLog('warn messages:', messages);\n    transports.forEach(func => func(date, 'WARN', ...messages));\n}\nexport function info(date, transports, ...messages) {\n    devLog('info messages:', messages);\n    transports.forEach(func => func(date, 'INFO', ...messages));\n}\nexport function debug(date, transports, ...messages) {\n    devLog('debug messages:', messages);\n    transports.forEach(func => func(date, 'DEBUG', ...messages));\n}\nexport function trace(date, transports, ...messages) {\n    devLog('trace messages:', messages);\n    transports.forEach(func => func(date, 'TRACE', ...messages));\n}\n"],"file":"index.js"}